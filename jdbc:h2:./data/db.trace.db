2020-09-22 23:52:50 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "                          

                                                    

CREATE TABLE `QUESTION` (
    `ID` BIGINT NOT NULL AUTO_INCREMENT,
    `IDENTIFIER` VARCHAR(60) NOT NULL COMMENT 'Name or base information for search',
    `CONTENT` VARCHAR(1000) NOT NULL COMMENT 'Text that will show up on screen',
    `CREATED_AT` DATETIME DEFAULT CURRENT_TIMESTAMP,
    `UPDATED_AT` DATETIME ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`ID`)
) ENGINE=[*]INNODB DEFAULT CHARSET=UTF8MB4 AUTO_INCREMENT=1"; expected "identifier"; SQL statement:
-- liquibase formatted sql

--changeset gleidiin:#db.base-create-tables-db.sql:1

CREATE TABLE `question` (
    `id` bigint NOT NULL AUTO_INCREMENT,
    `identifier` varchar(60) NOT NULL COMMENT 'Name or base information for search',
    `content` varchar(1000) NOT NULL COMMENT 'Text that will show up on screen',
    `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
    `updated_at` datetime ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=INNODB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=1 [42001-200]
2020-09-22 23:52:50 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE `ANSWER` (
    `ID` BIGINT NOT NULL AUTO_INCREMENT,
    `ID_QUESTION` BIGINT NOT NULL,
    `CONTENT` VARCHAR(600) NOT NULL,
    `CORRECT` TINYINT(1) NOT NULL DEFAULT 0,
    `CREATED_AT` DATETIME DEFAULT CURRENT_TIMESTAMP,
    `UPDATED_AT` DATETIME ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`ID`),
    FOREIGN KEY (`ID_QUESTION`) REFERENCES QUESTION(`ID`)
) ENGINE=[*]INNODB DEFAULT CHARSET=UTF8MB4 AUTO_INCREMENT=1"; expected "identifier"; SQL statement:
CREATE TABLE `answer` (
    `id` bigint NOT NULL AUTO_INCREMENT,
    `id_question` bigint NOT NULL,
    `content` varchar(600) NOT NULL,
    `correct` TINYINT(1) NOT NULL DEFAULT 0,
    `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
    `updated_at` datetime ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`id_question`) REFERENCES question(`id`)
) ENGINE=INNODB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=1 [42001-200]
2020-09-22 23:52:50 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE `TEMPLATE_CHALLENGE` (
    `ID` BIGINT NOT NULL AUTO_INCREMENT,
    `NAME` VARCHAR(120) NOT NULL,
    `DESCRIPTION` VARCHAR(360) NOT NULL,
    `CREATED_AT` DATETIME DEFAULT CURRENT_TIMESTAMP,
    `UPDATED_AT` DATETIME ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`ID`)
) ENGINE=[*]INNODB DEFAULT CHARSET=UTF8MB4 AUTO_INCREMENT=1"; expected "identifier"; SQL statement:
CREATE TABLE `template_challenge` (
    `id` bigint NOT NULL AUTO_INCREMENT,
    `name` varchar(120) NOT NULL,
    `description` varchar(360) NOT NULL,
    `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
    `updated_at` datetime ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=INNODB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=1 [42001-200]
2020-09-22 23:52:50 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE `TEMPLATE_CHALLENGE_QUESTION` (
    `ID` BIGINT NOT NULL AUTO_INCREMENT,
    `ID_TEMPLATE_CHALLENGE` BIGINT NOT NULL,
    `ID_QUESTION` BIGINT NOT NULL,
    `ORDER` SMALLINT NOT NULL,
    `CREATED_AT` DATETIME DEFAULT CURRENT_TIMESTAMP,
    `UPDATED_AT` DATETIME ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`ID`),
    FOREIGN KEY (`ID_TEMPLATE_CHALLENGE`) REFERENCES TEMPLATE_CHALLENGE(`ID`),
    FOREIGN KEY (`ID_QUESTION`) REFERENCES QUESTION(`ID`),
    UNIQUE KEY  (`ID`, `ID_QUESTION`, `ORDER`),
    UNIQUE KEY  (`ID_TEMPLATE_CHALLENGE`, `ID_QUESTION`)
) ENGINE=[*]INNODB DEFAULT CHARSET=UTF8MB4 AUTO_INCREMENT=1"; expected "identifier"; SQL statement:
CREATE TABLE `template_challenge_question` (
    `id` bigint NOT NULL AUTO_INCREMENT,
    `id_template_challenge` bigint NOT NULL,
    `id_question` bigint NOT NULL,
    `order` SMALLINT NOT NULL,
    `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
    `updated_at` datetime ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`id_template_challenge`) REFERENCES template_challenge(`id`),
    FOREIGN KEY (`id_question`) REFERENCES question(`id`),
    UNIQUE KEY  (`id`, `id_question`, `order`),
    UNIQUE KEY  (`id_template_challenge`, `id_question`)
) ENGINE=INNODB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=1 [42001-200]
2020-09-22 23:52:50 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE `CHALLENGE` (
    `ID` BIGINT NOT NULL AUTO_INCREMENT,
    `ID_TEMPLATE_CHALLENGE` BIGINT NOT NULL,
    `ID_QUESTION` BIGINT NOT NULL COMMENT 'Current execution question, in order',
    `REFERENCE_CODE` VARCHAR(30) NOT NULL,
    `STARTED` TINYINT(1) NOT NULL DEFAULT 0,
    `CREATED_AT` DATETIME DEFAULT CURRENT_TIMESTAMP,
    `UPDATED_AT` DATETIME ON UPDATE CURRENT_TIMESTAMP,
    `FINISHED_AT` DATETIME,
    PRIMARY KEY (`ID`),
    UNIQUE KEY IDX_UNIQUE_REFERENCE_CODE (`REFERENCE_CODE`),
    FOREIGN KEY (`ID_TEMPLATE_CHALLENGE`) REFERENCES TEMPLATE_CHALLENGE(`ID`),
    FOREIGN KEY (`ID_QUESTION`) REFERENCES QUESTION(`ID`)
) ENGINE=[*]INNODB DEFAULT CHARSET=UTF8MB4 AUTO_INCREMENT=1"; expected "identifier"; SQL statement:
CREATE TABLE `challenge` (
    `id` bigint NOT NULL AUTO_INCREMENT,
    `id_template_challenge` bigint NOT NULL,
    `id_question` bigint NOT NULL COMMENT 'Current execution question, in order',
    `reference_code` varchar(30) NOT NULL,
    `started` TINYINT(1) NOT NULL DEFAULT 0,
    `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
    `updated_at` datetime ON UPDATE CURRENT_TIMESTAMP,
    `finished_at` datetime,
    PRIMARY KEY (`id`),
    UNIQUE KEY idx_unique_reference_code (`reference_code`),
    FOREIGN KEY (`id_template_challenge`) REFERENCES template_challenge(`id`),
    FOREIGN KEY (`id_question`) REFERENCES question(`id`)
) ENGINE=INNODB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=1 [42001-200]
2020-09-22 23:52:50 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE `CHALLENGE_ANSWER` (
    `ID` BIGINT NOT NULL AUTO_INCREMENT,
    `ID_CHALLENGE` BIGINT NOT NULL,
    `ID_QUESTION` BIGINT NOT NULL,
    `NICKNAME` VARCHAR(255) NOT NULL,
    `RIGHT`  TINYINT(1) NOT NULL DEFAULT 0,
    `CREATED_AT` DATETIME DEFAULT CURRENT_TIMESTAMP,
    `UPDATED_AT` DATETIME ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`ID`),
    FOREIGN KEY (`ID_CHALLENGE`) REFERENCES CHALLENGE(`ID`),
    FOREIGN KEY (`ID_QUESTION`) REFERENCES QUESTION(`ID`)
) ENGINE=[*]INNODB DEFAULT CHARSET=UTF8MB4 AUTO_INCREMENT=1"; expected "identifier"; SQL statement:
CREATE TABLE `challenge_answer` (
    `id` bigint NOT NULL AUTO_INCREMENT,
    `id_challenge` bigint NOT NULL,
    `id_question` bigint NOT NULL,
    `nickname` varchar(255) NOT NULL,
    `right`  TINYINT(1) NOT NULL DEFAULT 0,
    `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
    `updated_at` datetime ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`id_challenge`) REFERENCES challenge(`id`),
    FOREIGN KEY (`id_question`) REFERENCES question(`id`)
) ENGINE=INNODB DEFAULT CHARSET=utf8mb4 AUTO_INCREMENT=1 [42001-200]
2020-09-22 23:53:07 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "QUESTION" not found; SQL statement:
CREATE TABLE `answer` (
    `id` bigint NOT NULL AUTO_INCREMENT,
    `id_question` bigint NOT NULL,
    `content` varchar(600) NOT NULL,
    `correct` TINYINT(1) NOT NULL DEFAULT 0,
    `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
    `updated_at` datetime ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`id_question`) REFERENCES question(`id`)
) [42102-200]
2020-09-22 23:53:16 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE `ANSWER` (
    `ID` BIGINT NOT NULL AUTO_INCREMENT,
    `ID_QUESTION` BIGINT NOT NULL,
    `CONTENT` VARCHAR(600) NOT NULL,
    `CORRECT` TINYINT(1) NOT NULL DEFAULT 0,
    `CREATED_AT` DATETIME DEFAULT CURRENT_TIMESTAMP,
    `UPDATED_AT` DATETIME ON UPDATE CURRENT_TIMESTAMP,
)[*]"; expected "identifier"; SQL statement:
CREATE TABLE `answer` (
    `id` bigint NOT NULL AUTO_INCREMENT,
    `id_question` bigint NOT NULL,
    `content` varchar(600) NOT NULL,
    `correct` TINYINT(1) NOT NULL DEFAULT 0,
    `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
    `updated_at` datetime ON UPDATE CURRENT_TIMESTAMP,
) [42001-200]
2020-09-22 23:54:23 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE ""question"" (
  ""id"" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  ""identifier"" VARCHAR(60) NOT NULL,
  ""content"" VARCHAR(1000) NOT NULL,
  ""created_at"" TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  ""updated_at"" TIMESTAMP NULL,
  PRIMARY KEY (""id"")
)
ENGINE INNODB
DEFAULT[*] CHARSET UTF8MB4
AUTO_INCREMENT 1"; SQL statement:
create table "question" (
  "id" bigint not null generated by default as identity,
  "identifier" varchar(60) not null,
  "content" varchar(1000) not null,
  "created_at" timestamp null default current_timestamp,
  "updated_at" timestamp null,
  primary key ("id")
)
engine INNODB
default charset utf8mb4
auto_increment 1 [42000-200]
2020-09-22 23:54:30 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE ""question"" (
  ""id"" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  ""identifier"" VARCHAR(60) NOT NULL,
  ""content"" VARCHAR(1000) NOT NULL,
  ""created_at"" TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  ""updated_at"" TIMESTAMP NULL,
  PRIMARY KEY (""id"")
)
ENGINE INNODB
DEFAULT[*] CHARSET UTF8MB4
AUTO_INCREMENT 1"; SQL statement:
create table "question" (
  "id" bigint not null generated by default as identity,
  "identifier" varchar(60) not null,
  "content" varchar(1000) not null,
  "created_at" timestamp null default current_timestamp,
  "updated_at" timestamp null,
  primary key ("id")
)
engine INNODB
default charset utf8mb4
auto_increment 1 [42000-200]
2020-09-22 23:56:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "QUESTION" not found; SQL statement:
create table "answer" (
  "id" bigint not null generated by default as identity,
  "id_question" bigint not null,
  "content" varchar(600) not null,
  "correct" tinyint not null default 0,
  "created_at" timestamp null default current_timestamp,
  "updated_at" timestamp null,
  primary key ("id"),
  foreign key ("id_question")
  references question ("id")
) [42102-200]
2020-09-22 23:57:45 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "QUESTION" not found; SQL statement:
select * from question [42102-200]
2020-09-22 23:57:55 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "QUESTION" not found; SQL statement:
select * from question [42102-200]
2020-09-22 23:57:56 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "QUESTION" not found; SQL statement:
select * from question [42102-200]
2020-09-22 23:58:21 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "QUESTION" not found; SQL statement:
select * from question [42102-200]
2020-09-22 23:58:32 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "QUESTION" not found; SQL statement:
drop table question [42102-200]
2020-09-22 23:59:33 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE QUESTION (
  ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  IDENTIFIER VARCHAR(60) NOT NULL,
  CONTENT VARCHAR(1000) NOT NULL,
  CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  UPDATED_AT TIMESTAMP NULL,
  PRIMARY KEY (ID)
)

CREATE[*] TABLE ANSWER (
  ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  ID_QUESTION BIGINT NOT NULL,
  CONTENT VARCHAR(600) NOT NULL,
  CORRECT TINYINT NOT NULL DEFAULT 0,
  CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  UPDATED_AT TIMESTAMP NULL,
  PRIMARY KEY (ID)
)


CREATE TABLE TEMPLATE_CHALLENGE (
  ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  NAME VARCHAR(120) NOT NULL,
  DESCRIPTION VARCHAR(360) NOT NULL,
  CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  UPDATED_AT TIMESTAMP NULL,
  PRIMARY KEY (ID)
)

CREATE TABLE TEMPLATE_CHALLENGE_QUESTION (
  ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  ID_TEMPLATE_CHALLENGE BIGINT NOT NULL,
  ID_QUESTION BIGINT NOT NULL,
  ORDER SMALLINT NOT NULL,
  CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  UPDATED_AT TIMESTAMP NULL,
  PRIMARY KEY (ID),
  UNIQUE (
    ID,
    ID_QUESTION,
    ORDER
  ),
  UNIQUE (
    ID_TEMPLATE_CHALLENGE,
    ID_QUESTION
  )
)

CREATE TABLE CHALLENGE (
  ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  ID_TEMPLATE_CHALLENGE BIGINT NOT NULL,
  ID_QUESTION BIGINT NOT NULL,
  REFERENCE_CODE VARCHAR(30) NOT NULL,
  STARTED TINYINT NOT NULL DEFAULT 0,
  CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  UPDATED_AT TIMESTAMP NULL,
  FINISHED_AT TIMESTAMP NULL,
  PRIMARY KEY (ID),
  CONSTRAINT IDX_UNIQUE_REFERENCE_CODE
    UNIQUE (REFERENCE_CODE)
)

CREATE TABLE CHALLENGE_ANSWER (
  ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  ID_CHALLENGE BIGINT NOT NULL,
  ID_QUESTION BIGINT NOT NULL,
  NICKNAME VARCHAR(255) NOT NULL,
  RIGHT TINYINT NOT NULL DEFAULT 0,
  CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  UPDATED_AT TIMESTAMP NULL,
  PRIMARY KEY (ID)
)"; SQL statement:
create table question (
  id bigint not null generated by default as identity,
  identifier varchar(60) not null,
  content varchar(1000) not null,
  created_at timestamp null default current_timestamp,
  updated_at timestamp null,
  primary key (id)
)

create table answer (
  id bigint not null generated by default as identity,
  id_question bigint not null,
  content varchar(600) not null,
  correct tinyint not null default 0,
  created_at timestamp null default current_timestamp,
  updated_at timestamp null,
  primary key (id)
)


create table template_challenge (
  id bigint not null generated by default as identity,
  name varchar(120) not null,
  description varchar(360) not null,
  created_at timestamp null default current_timestamp,
  updated_at timestamp null,
  primary key (id)
)

create table template_challenge_question (
  id bigint not null generated by default as identity,
  id_template_challenge bigint not null,
  id_question bigint not null,
  order smallint not null,
  created_at timestamp null default current_timestamp,
  updated_at timestamp null,
  primary key (id),
  unique (
    id,
    id_question,
    order
  ),
  unique (
    id_template_challenge,
    id_question
  )
)

create table challenge (
  id bigint not null generated by default as identity,
  id_template_challenge bigint not null,
  id_question bigint not null,
  reference_code varchar(30) not null,
  started tinyint not null default 0,
  created_at timestamp null default current_timestamp,
  updated_at timestamp null,
  finished_at timestamp null,
  primary key (id),
  constraint idx_unique_reference_code
    unique (reference_code)
)

create table challenge_answer (
  id bigint not null generated by default as identity,
  id_challenge bigint not null,
  id_question bigint not null,
  nickname varchar(255) not null,
  right tinyint not null default 0,
  created_at timestamp null default current_timestamp,
  updated_at timestamp null,
  primary key (id)
) [42000-200]
